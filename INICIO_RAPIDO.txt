================================================================================
INICIO R√ÅPIDO - SISTEMA DE PUNTO DE VENTA (POS)
================================================================================

üöÄ EN 5 PASOS ESTAR√Å LISTO

================================================================================
PASO 1: CONFIGURAR BASE DE DATOS
================================================================================

1.1. Abre SQL Server Management Studio
1.2. Crea una base de datos llamada: sistema_ventas
1.3. Abre el archivo: SQL_CREAR_TABLAS.sql (en la ra√≠z del proyecto)
1.4. Selecciona la BD sistema_ventas
1.5. Ejecuta el script (F5 o Ctrl+E)
1.6. Verifica: Debes ver 7 tablas creadas con datos de prueba

‚úì Productos: 10 art√≠culos con c√≥digos de barras
‚úì Clientes: 4 clientes (MOSTRADOR, CONSUMIDOR FINAL, EMPRESA A, EMPRESA B)
‚úì Usuarios: 2 usuarios (admin, vendedor1)

================================================================================
PASO 2: VERIFICAR CONEXI√ìN A BASE DE DATOS
================================================================================

2.1. Abre ProyectoEleventa en Visual Studio
2.2. Ve a: Data/DBConnection.cs (l√≠nea ~12)
2.3. Verifica la cadena de conexi√≥n:
    
    @"Server=localhost;Database=sistema_ventas;Integrated Security=true;"

2.4. Si tu servidor SQL no est√° en "localhost", cambia:
    - Abre SQL Server Management Studio
    - Conecta al servidor (en la ventana, ver√°s el nombre del servidor)
    - En DBConnection.cs, cambia "localhost" por ese nombre
    
    Ejemplo: @"Server=DESKTOP-ABC123;Database=sistema_ventas;..."

2.5. Si usas Usuario/Contrase√±a SQL en lugar de Integrated Security:
    
    @"Server=localhost;Database=sistema_ventas;User Id=sa;Password=tucontrase√±a;"

================================================================================
PASO 3: COMPILAR EL PROYECTO
================================================================================

3.1. En Visual Studio: Ctrl+Shift+B (Compilar soluci√≥n)
3.2. Debe mostrar: "Build successful"
3.3. Si hay errores, revisa:
    - ¬øFalta alg√∫n archivo en Data/?
    - ¬øReferencia a System.Windows.Forms?
    - ¬øReferencia a System.Data.SqlClient?

================================================================================
PASO 4: EJECUTAR Y PROBAR
================================================================================

4.1. Presiona F5 para ejecutar
4.2. Deber√° abrirse el formulario principal (FormularioVentas)
4.3. Prueba estos pasos:

    PRUEBA 1: Agregar producto por c√≥digo
    ‚úì En txtCodigoProducto, escribe: 7891234567890 (Laptop HP)
    ‚úì En nudCantidad, cambia a 1
    ‚úì Presiona bot√≥n AGREGAR
    ‚úì Debe aparecer en el DataGridView
    ‚úì Debe calcular autom√°ticamente subtotal, impuesto, total
    ‚úì Debe enfocarse nuevamente en txtCodigoProducto

    PRUEBA 2: Agregar otro producto
    ‚úì Escribe: 7891234567891 (Mouse Logitech)
    ‚úì Presiona AGREGAR
    ‚úì Deben haber 2 filas en el ticket
    ‚úì Los totales deben recalcularse

    PRUEBA 3: Cambiar cliente
    ‚úì En cmbClientes, selecciona "EMPRESA A"
    ‚úì En cmbMetodoPago, deja "Efectivo"

    PRUEBA 4: Realizar cobro
    ‚úì Presiona bot√≥n COBRAR
    ‚úì Debe mostrar mensaje: "¬°Venta registrada exitosamente!"
    ‚úì El DataGridView debe vaciarse
    ‚úì Los totales vuelven a 0

    PRUEBA 5: Verificar en base de datos
    ‚úì En SQL Server, abre la BD sistema_ventas
    ‚úì Select * FROM ventas ‚Üí Debe haber 1 registro
    ‚úì Select * FROM detalle_ventas ‚Üí Debe haber 2 registros (2 productos)
    ‚úì Select * FROM movimientos_inventario ‚Üí Debe haber 2 registros (salidas)
    ‚úì Select existencia FROM productos WHERE id = 1 ‚Üí Debe ser 4 (era 5, se vendi√≥ 1)

================================================================================
PASO 5: USAR EL SISTEMA
================================================================================

FLUJO NORMAL DE UNA VENTA:

1. Escanea c√≥digo de barras en txtCodigoProducto
   ‚Üì
2. Sistema busca producto, lo valida y muestra nombre/precio
   ‚Üì
3. Cambia cantidad en nudCantidad si es necesario
   ‚Üì
4. Presiona AGREGAR
   ‚Üì
5. Producto se agrega al DataGridView (ticket)
   ‚Üì
6. Se recalculan subtotal, impuesto, total autom√°ticamente
   ‚Üì
7. Puedes agregar m√°s productos (vuelve al paso 1)
   ‚Üì
8. Cuando terminas:
   - Selecciona cliente en cmbClientes
   - Elige m√©todo de pago en cmbMetodoPago
   - Presiona COBRAR
   ‚Üì
9. Si todo est√° bien ‚Üí Venta registrada, ticket limpiado, listo para siguiente

TECLAS DE ATAJO:
- F10: Abrir b√∫squeda de productos
- F7: Entradas de efectivo
- F8: Salidas de efectivo
- F9: Verificador
- INS: INS Varios
- CTRL+P: Producto com√∫n

================================================================================
PRUEBAS CON DIFERENTES ESCENARIOS
================================================================================

ESCENARIO 1: Stock insuficiente
‚Üí txtCodigoProducto: 7891234567890 (Laptop HP, stock = 5)
‚Üí nudCantidad: 10
‚Üí Presiona AGREGAR
‚úó Esperado: "Stock insuficiente. Disponible: 5"

ESCENARIO 2: C√≥digo no existe
‚Üí txtCodigoProducto: 999999999999
‚Üí Presiona AGREGAR
‚úó Esperado: "Producto no encontrado"

ESCENARIO 3: Venta a cr√©dito sin l√≠mite
‚Üí Agregar productos (total = $200)
‚Üí cmbClientes: Selecciona un cliente
‚Üí cmbMetodoPago: "Cr√©dito"
‚Üí Si su credito_usado + 200 > limite_credito
‚úó Esperado: "Cr√©dito insuficiente"

ESCENARIO 4: Cancelar venta
‚Üí Agregar 2-3 productos
‚Üí Presiona CANCELAR
‚Üí "¬øEst√° seguro de cancelar la venta?" ‚Üí S√ç
‚úì Esperado: Ticket vac√≠o, totales en 0, sin registrar en BD

================================================================================
CHECKLIST DE VERIFICACI√ìN
================================================================================

C√ìDIGO:
‚òë Data/DBConnection.cs existe y compila
‚òë Data/ProductoDAL.cs existe y compila
‚òë Data/ClienteDAL.cs existe y compila
‚òë Data/VentaDAL.cs existe y compila
‚òë BusquedaProductos.cs actualizado y compila
‚òë FormularioVentas.cs actualizado y compila
‚òë Proyecto compila sin errores (Build successful)

BASE DE DATOS:
‚òë Tabla productos existe (con 10 registros)
‚òë Tabla clientes existe (con 4 registros)
‚òë Tabla ventas existe
‚òë Tabla detalle_ventas existe
‚òë Tabla movimientos_inventario existe
‚òë Tabla usuarios existe
‚òë Tabla compras existe

FUNCIONALIDAD:
‚òë Escaneo de c√≥digo agrega producto al ticket
‚òë Stock se valida antes de agregar
‚òë Cantidad se puede cambiar
‚òë Descuento por l√≠nea funciona
‚òë Totales se calculan correctamente
‚òë Cliente se selecciona correctamente
‚òë M√©todo de pago se elige correctamente
‚òë Cobro registra en todas las tablas
‚òë Stock se actualiza despu√©s del cobro
‚òë Transacci√≥n hace ROLLBACK si falla
‚òë Ticket se limpia despu√©s de cobrar exitosamente
‚òë Foco vuelve a c√≥digo despu√©s de cada acci√≥n

================================================================================
PROBLEMAS COMUNES Y SOLUCIONES
================================================================================

‚ùå "Cannot open database 'sistema_ventas'"
‚úÖ Soluci√≥n: Ejecutar SQL_CREAR_TABLAS.sql en SQL Server primero

‚ùå "The type or namespace name 'DBConnection' could not be found"
‚úÖ Soluci√≥n: Agregar al inicio de FormularioVentas.cs:
   using ProyectoEleventa.Data;

‚ùå "Login failed for user 'NT AUTHORITY\SYSTEM'"
‚úÖ Soluci√≥n: Cambiar DBConnection.cs a:
   @"Server=.\SQLEXPRESS;Database=sistema_ventas;Integrated Security=true;"
   (Reemplaza \SQLEXPRESS por tu instancia si es diferente)

‚ùå "Producto no encontrado" aunque el c√≥digo parece correcto
‚úÖ Soluci√≥n:
   - Verificar exactitud del c√≥digo de barras (espacios, d√≠gitos)
   - Verificar que el estado del producto sea 1 (activo)
   - En SQL: SELECT * FROM productos WHERE codigo_barras LIKE '%7891%'

‚ùå "Hay muy pocos par√°metros en la sentencia INSERT"
‚úÖ Soluci√≥n: Revisar que VentaDAL tiene todos los INSERT correctos
   - Verificar SQL en VentaDAL.RegistrarVenta()

‚ùå El ticket se vac√≠a pero no se guard√≥ en BD
‚úÖ Soluci√≥n:
   - Revisar mensaje de error en SQL
   - Verificar que tablas existen (SELECT * FROM ventas)
   - Revisar integridad referencial (clientes y productos deben existir)

================================================================================
PR√ìXIMOS PASOS
================================================================================

Una vez que el sistema est√© funcionando:

1. AGREGAR AUTENTICACI√ìN
   - Crear formulario de login
   - Validar usuario y contrase√±a
   - Pasar id_usuario a FormularioVentas

2. AGREGAR REPORTES
   - Ventas por d√≠a/mes
   - Productos m√°s vendidos
   - Clientes con cr√©dito vencido
   - Inventario bajo

3. MEJORAR INTERFAZ
   - Agregar iconos a los botones
   - Mostrar foto del producto
   - Sonido al agregar/vender
   - Impresora de tickets

4. AGREGAR M√ÅS FUNCIONES
   - Devoluciones
   - Cambios
   - Descuentos autom√°ticos por volumen
   - Promociones

5. OPTIMIZACIONES
   - Cache de productos para b√∫squeda r√°pida
   - Sincronizaci√≥n con servidor central
   - Backup autom√°tico
   - Auditor√≠a de ventas

================================================================================
DOCUMENTACI√ìN ADICIONAL
================================================================================

üìÑ GUIA_SISTEMA_POS.txt
   - Arquitectura completa
   - Explicaci√≥n detallada de cada componente
   - Flujo completo de una venta

üìÑ REFERENCIA_RAPIDA.txt
   - M√©todos y funciones disponibles
   - Ejemplos de uso
   - Patrones implementados

üìÑ SQL_CREAR_TABLAS.sql
   - Script para crear todas las tablas
   - Datos de prueba iniciales
   - √çndices y relaciones

================================================================================
¬°LISTO PARA USAR!
================================================================================

Si seguiste todos los pasos, tu Sistema de Punto de Venta est√°:
‚úì Funcional
‚úì R√°pido
‚úì Seguro (transacciones, par√°metros SQL)
‚úì Profesional
‚úì Listo para producci√≥n

Cualquier pregunta, revisar los documentos de gu√≠a y referencia.

¬°√âXITO CON TU SISTEMA!
